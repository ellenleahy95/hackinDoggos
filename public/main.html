<!doctype html>
<html>

<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<!-- <script src="accordian.js"></script> -->
	<link rel="stylesheet" href="../css/styles.css">
	<script src="https://code.jquery.com/jquery-1.10.2.js" type="text/javascript"></script>

</head>
<body style="background-image: url(../images/skyEPG.jpg); background-size: 1645px 980px;">
	<!-- <img src="../images/skyEPG.jpg" alt="sky" style="width:100%"> -->

  <div class="w3-sidebar w3-bar-block w3-border-right" style="display:none" id="mySidebar">
    <button onclick="w3_close()" class="w3-bar-item w3-large">Close &times;</button>
    <div id="name" class="accordion"></div>
  </div>

	<div class="bg">
		<button class="w3-button w3-medium" onclick="loadAndOpen()"><font color="white">My Friends</font></button>
  <!-- <div class="w3-container">
    <img src="../images/skyEPG.jpg" alt="sky" style="width:100%">
</div> -->
<!-- <button class="w3-button w3-xlarge" onclick="loadAndOpen()">My Friends</button> -->
</div>

<!-- <div>
	<form id="numberform" action="http://localhost:3000/textme" method="post">
		Phone Number:<br>
		<input id="phone number" type="text" name="number" value="Insert Number"><br>
   		<button id="textbtn" type="submit">Text me!</button>
	</form>
</div> -->

  <script type="text/javascript">

    function loadAndOpen() {
      w3_open();
      loadDoc();
    }

    function loadDoc() {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function () {
        if (this.readyState == 4 && this.status == 200) {
          myFunction(this);
        }
      };
      xhttp.open("GET", "names.xml", true);
      xhttp.send();
    }

    function myFunction(xml) {
      var i;
      var xmlDoc = xml.responseXML;
      var x = xmlDoc.getElementsByTagName("FRIEND");
      var table = "";
      for (i = 0; i < x.length; i++) {
        table += "<button class = 'accordion' onclick='accordionCode(" + i + ")'> " +
          "<img src=../images/stupid.png id=ava width='20' height='20' /> " +
          x[i].getElementsByTagName("NAME")[0].childNodes[0].nodeValue +
          "</button>" +
          "<div class='panel'>" +
          "<a>Watch Together</a> \n" +
          "<a href='recPage.html'>Suggest Movie/Show </a>\n" +
          "<a href='main.html'> Delete </a>" +
          "</div>"



    }
    document.getElementById("name").innerHTML = table;


  }




function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
}
function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
}
function accordionCode() {
  var acc = document.getElementsByClassName("accordion");
  var i;
      for (i = 0; i < acc.length; i++) {
          acc[i].onclick = function(){
              this.classList.toggle("active");
              this.nextElementSibling.classList.toggle("show");
          }
      }
      document.getElementById("name").innerHTML = table;


    }


    function w3_open() {
      document.getElementById("mySidebar").style.display = "block";
    }
    function w3_close() {
      document.getElementById("mySidebar").style.display = "none";
    }
    function accordionCode(i) {
      var acc = document.querySelectorAll("button.accordion");
      acc[i].classList.toggle("active");
      acc[i].nextElementSibling.classList.toggle("show");

    }

</script>
<body>
</html>
